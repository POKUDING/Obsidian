#### 이상준 강사님
- 커리큘럼 6일
- 한국 오라클 출신
- 오라클 DB 사용 RDB 및 SQL
- 50분 수업 10분 휴식 / 실습 및 발표

pdf 암호 DB20240429

조별로 연습문제 실습 및 발표

# DATA란?
### 데이터(Data)
- 관찰의 결과로 나타난 정량적 혹은 실제 값
- ex) 산의 높이
### 정보(Information)
- 데이터에 의미를 부여한 것
- ex) 제일 높은 산은 에베레스트이다.
### 지식(knowledge)
- 사물이나 현상에 대한 이해
- ex) 에베레스트 산에 올라가는 가장 좋은 방법을 소개하는 보고서(정보 포함)

삼격형 구조를 이루며 데이터가 가장 넓고 지식이 가장 좁다.
지식 위에 인사이트를 넣는 학자도 있다.

# DB란
- 정보의 조직화된 집합체
- 논리적 연관된 데이터를 모아 구조적으로 통합해 놓은 것


#### 빅데이터(비정형화된 데이터)
빅데이터는 논리적인 성격의 차이가 있다.
예측 용도로 사용
데이터의 무결성을 보장하기 어렵다.

| 유형  | 검색 빈도 | 변경 빈도 | 데이터베이스 예      | 특징                         |
| --- | ----- | ----- | ------------- | -------------------------- |
| 유형1 | 적다    | 적다    | 공룡 데이터베이스     | - 검색이 많지 않아 데이터베이스 구축 필요 X |
| 유형2 | 많다    | 적다    | 도서 데이터베이스     |                            |
| 유형3 | 적다    | 많다    | 비행기 예약 데이터베이스 |                            |
| 유형4 | 많다    | 많다    | 증권 데이터베이스     |                            |
pdf4
## DB의 개념
- 통합된 데이터
  여러 곳에서 사용된 데이터를 통합
  중복의 원칙적 배제
  데이터 중복 최소화
- 저장된 데이터
  디스크, 테이프 같은 컴퓨터를 중심으로 저장
- 운영 데이터
  조직 운영에 필요한 데이터가 구조적으로 통합
  업무를 위한 검색 목적으로 저장
- 공용 데이터
  다수의 사용자 운영프로그램이 공유
  
## DB의 특징
- 실시간 접근성
  사용자나 응용프로그램의 요구를 즉시 처리,응답
- 계속적인 변화
  어느 한순간의 상태를 나타내지만, 데이터 값은 삭제, 갱신 등으로 값이 지속적으로 변화
- 동시 공유
  서로 다른 업무 또는 다수의 사용자나 응용프로그램이 동시에 접근
- 내용에 의한 참조
  데이터의 물리적 위치를 몰라도 원하는 데이터를 검색하여 제공

데이터베이스 시스템은 각 조직에서 사용하던 데이터를 모아서 통합하고 서로 공유하여 생기는 장점을 이용하는 시스템

## DB의 구성
- 데이터베이스 관리 시스템(Datebase Management System, DBMS)
  사용자와 데이터베이스를 연결시켜주는 소프트웨어
- 데이터베이스
  물리적으로 컴퓨터 내부의 하드디스크에 저장
- 데이터 모델
  데이터가 저장되는 기법
  컴퓨터는 파일로 데이터를 관리하듯 DB에서 데이터를 관리하는 방식
  #의문점
  스트링 INTEGER 같은건가?
  DB에 종속적인건가?
  #답변
  RDB에서의 관계도 및 저장 양식 등
  
### 파일 처리 시스템
- 데이터를 파일 단위로 저장하고, 데이터에 관한 조작을 모두 응용프로그램에서 처리
- 데이터베이스를 구성하는 요소가 모두 응용프로그램에 종속
- 각 응용프로그램이 독립적으로 파일을 다루기 때문에 데이터가 중복 저장될 가능성 있음
- 동시에 파일을 다루기 때문에 데이터의 일관성이 훼손될 가능성 있음

### 데이터베이스 처리 시스템(Database Processing System)
- DBMS가 데이터 관리 작업을 독립적으로 담당하여 준다.
- 데이터의 응용 프로그램에 대한 종속성과 응용 프로그램 자체의 부하를 줄일 수 있다.
- 데이터의 일관성 유지, 복구, 동시 접근제어 등의 기능을 수행
- 데이터의 중복을 줄이고 데이터를 표준화하며 무결성을 유지함
#의문점 
하나의 데이터 베이스당 하나의 DBMS가 작동하나? 아니라면 그 안에서 동시성 문제에 대한 처리가 있나?

| 구분          | 파일 처리 시스템                         | 데이터베이스 관리 시스템(DBMS)             |
| ----------- | --------------------------------- | ------------------------------- |
| 데이터 정의 및 저장 | 데이터 정의: 응용 프로그램<br>데이터 저장: 파일 시스템 | 데이터 정의: DBMS<br>데이터 저장: 데이터 베이스 |
| 데이터 접근 방법   | 응용 프로그램이 파일에 직접 접근                | 응용 프로그램이 DBMS에 파일 접근을 요처        |
| 사용 언어       | 자바,C++,C등                         | 자바, C++, C 등과 SQL               |
| 컴퓨터 리소스 사용  | 적음                                | 많음                              |

### DB의 종류
- 계층형 데이터베이스
- 망형 데이터베이스
- 관계형 데이터베이스
- 객체지향 데이터베이스

## RDB의 장단점
### 장점
- 데이터 모델 구조가 탄력적이어서 필요할 때 테이블 사이의 연결을 통해 데이터를 생성 및 처리할 수 있다.
- 데이터 정의 언어와 데이터 조작언어가 간단하여 비전산용원도 쉽게 사용할 수 있다.
- 데이터들 간의 복잡한 괸계를 개념적으로 분명하고 간단하게 표현하며, 강력한 데이터 조작능력을 제공한다.
- 데이터의 첨가, 삭제, 수정이 쉽고, 미래의 정보요구에 신축성 있게 대응할 수 있다.
### 단점
- 기억용량이 많이 필요하다.
- 정보추출에 시간이 많이 소요된다.
- 각 표마다 인덱스가 수반되므로 번거로울 수 있다.

## 관계형 데이터 모델
- 행과 열로 구성된 2차원 테이블에 데이터를 저장
- 테이블은 데이터베이스에서 표현하는 하나의 엔티티에 관한 정보를 저장
### 용어
- 행: row, 투플, 레코드
- 열: col, 속성, 도메인

#용어
도메인 : 정해져있는 값

## DBMS
- 파일시스템에서 야기되는 데이터의 종속성과 중복성의 문제점을 해결하기 위한 방법으로 제안
- 사용자와 응용 프로그램에 편리하고 효율적인 데이터베이스 사용 환경을 제공하는 소프트웨어
- 데이터베이스 생성/관리, 데이터로부터 사용자의 질의에 대한 답을 검색하는 프로그램의 집합
- 접근통제 및 다수 사용자 동시 접근관리

## 데이터베이스 관리 시스템의 기능
1. 정의 기능(Definition)
   - 데이터의 형태, 구조, 데이터베이스의 저장에 관한 내용을 정의하며, 다양한 응용프로그램과 데이터베이스가 서로 인터페이스 할 수 있는 방법 제공
   - 구현된 하나의 물리적 구조의 데이터베이스로 여러 사용자가 다양한 형태의 데이터를 요구해도 이를 지원할 수 있도록 가장 적절한 데이터베이스 구조를 정의할 수 있는 기능
   - 특징
     - 모든 응용프로그램이 요구하는 데이터 구조를 지원할 수 있게끔 데이터베이스의 논리적 구조와 그 특성을 목표 DBMS가 지원하는 데이터 모델에 맞게 기술
     - 데이터베이스를 물리적 저장장치에 저장하는 데 필요한 명세 포함(사용할 메모리, 기억장치 용량 등)
     - 데이터의 논리적 구조와 물리적 구조 사이에 변환이 가능하도록 명세

2. 조작 기능(Manipulation)
   - 사용자의 요구에 따라 검색, 갱신, 삽입, 삭제 등을 지원
   - 사용자와 데이터베이스 사이의 인터페이스를 위한 수단 제공

3. 제어 기능(Control)
   - 데이터베이스의 내용에 대해 정확성과 안정성을 유지하는 기능(무결성 유지, 보안, 병행 수행 제어)
   - 특징
     - 데이터베이스를 접근하는 갱신, 삽입, 삭제 작업의 정확하게 수행되게 하여 데이터의 무결성이 파괴되지 않도록 제어할 수 있어야 한다.**(무결성)**
     - 정당한 사용자가 허가된 데이터가 접근할 수 있게끔 보안을 유지하고 권한을 검사할 수 있어야 한다.**(보안)**
     - 여러 사용자가 데이터베이스를 동시에 접근하여 데이터를 처리할 때 데이터베이스와 처리 결과가 항상 정확성을 유지하도록 병행 제어를 할 수 있어야 한다.**(병행 수행 제어)**
### DBMS 도입에 따른 장점
- 데이터 중복과 불일치 감소
- 데이터의 일관성 유지
- 데이터 무결성 향상
- 보안이 향상됨
- 표준화 시행이 용이
- 사용자에게 더 나은 서비스 제공
- 시스템의 융통성이 향상됨
- 시스템 개발 및 유지 비용 감소
- 조직체의 요구 사항을 파악하여 조정할 수 있음
- 데이터베이스의 공유와 동시 접근이 가능함

### DBMS 도입에 따른 단점
- 추가적인 운영비 증대
-  자료 처리의 복잡화
- 복잡한 백업과 복구

![](https://i.imgur.com/o0M7kW1.png)


## Metadata 란?
- 데이터를 위한 데이터
### System metadata:
- Where data from
- How data were changed
- How data are stored
- How data are mapped
- Who owns data
- Who can access data
- Data usage history
- Data usage statistics

### Business metadata
- What data are available
- Where data are loacated
- What the data mean
-  How to access the data
- Predefined reports
- Predefined queries
- How current the data are

### Metadata 왜 중요한가?
- System metadata are crtical in a DBMS
- Business metadata are critical in a data warehouse

## 데이터 베이스와 사용자
- 일반 사용자
- 응용 프로그래머
- SQL 사용자
- 데이터베이스 요구사항 분석가/설계자
- Database administrator (DBA)

## 데이터 언어
- 데이터 정의어(DDL: Data Definition Language) : DB설계자가 많이 사용
  - DB 구조를 정의하거나 그 정의를 수정할 목적으로 사용하는 언어
  - 데이터 사전, 시스템 카탈로그에 저장하여 놓고 필요한 경우에 시스템에 활용
- 데이터 조작어(DML: Data Manipulation Language) : 응용프로그래머가 많이 사용
  - DB의 정보에 접근(access)하기 위한 목적으로 사용하는 언어
  - 절차적 DML(한버에 하나의 레코드에)와 비절차적 DML(set단위의 레코드)
  - SQL(Structured Query Language): Most common DML
- 데이터 제어어(DCL: Data Control Language) : DB 관리자가 많이 사용
  - 보안, 무결성, 회복, 병행 제어
# 관계형 데이터 모델
## 관계형 데이터 베이스
- 관계형 데이터 모델을 기반으로 하며 가장 널리 사용되는 데이터베이스
- 모든 데이터들을 테이블과 같은 형태로 나타내어 저장하는 데이터베이스
- '표' 개념을 사용해서 데이터를 구성하는 방법을 사용
- 릴레이션(테이블)으로 구성된 데이터 항목들의 집합
- 릴레이션은 행(row)과 열(column)으로 구성된 2차원 테이블
- 스키마의 요소
  - 속성, 도메인, 치수
- 인스턴스 요소
  - 투플, 카디날리티(cardinality)
    
### 용어
#용어 
- 스키마 : 각 항목을 정의하여 만든 테이블의 틀
  - 전체 데이터베이스에서 각각의 table을 정의하면 하나의 데이터베이스에 대한 틀이 만들어 지는데 이것을 데이터베이스 스키마라고 함
- 튜플(tuple) : 릴레이션의 각 행(row)은 튜플(tuple) 또는 레코드(record)라고 한다.
- 속성(attribute) : 릴레이션의 각 열(column)을 속성이라고 한다. 열에 부여된 이름.
- 도메인(domain) : 속성 하나가 가질 수 있는 값의 집합
- 차수(degree) : 튜플을 구성하는 속성의 개수
- 카디널리티(cardinality) : 튜플의 개수
- 널(null) : 속성 값이 정해지지 않았거나 없는 경우의 값

### 릴레이션의 특징
- 속성은 단일값을 가진다. 도메인에 정의된 값만을 가지며 그 값은 모두 단일 값 이여야 함
- 속성은 한 릴레이션에서 서로 다른 이름을 가진다.
- 속성의 순서가 달라도 릴레이션 스키마는 상관 없다.
- 릴레이션 내의 중복된 투플은 허용하지 않는다.
- 투플의 순서가 달라도 같은 릴레이션임
- Table의 한 행(row)은 각 항목의 가능한 값의 조합들 중 하나가 됨.
- 이렇게 행의 각 항목이 가능한 값들로 이루어져 있는 행(tuple)들의 집합을 관계(relation = table)라고 함

### 키(Key)
>릴레이션에서 튜플을 유일하게 식별할 수 있는 하나 이상의 속성 모임
- 후보 키(cangigate key) : 각 튜플을 구분할 수 있는 최소한의 속성만으로 구성된 키
- 기본 키(primary key) : 후보 키가 두 개 이상일 때 대표로 삼을 키, nonnullable, 최대한 적은 속성을 소유
- 대체 키(alternate key) : 기본 키가 아닌 후보 키
- 대리 키(surrogate key) 또는 인조 키(artificial key) : 기본 키가 보안을 요하거나, 여러 개의 속성으로 구성되어 복잡하거나, 마땅한 기본키가 없을 때는 일련 번호 같은 가상의 속성을 만들어 기본 키로 삼는 경우
- 외래 키(foreign key) : 다른 릴레이션의 기본 키를 참조하며 릴레이션 간 관계를 나타내는 키
  - 참조하고 참조되는 양쪽 릴레이션의 도메인은 서로 같아야 함.
  - null 값과 중복 값 등이 허용됨
  - 자기 자신의 기본 키를 참조하는 외래 키도 가능함.

## 무결성 제약 조건
- 도메인, 객체, 무결성, 참조 무결성
  - 권한을 가진 사용자들로부터 DB에 저장된 데이터의 정확성과 일관성을 지키는 것
  - DB상태가 만족해야 하는 조건으로 DB갱신 시 마다 **DBMS가 자동검사**

- 도메인 무결성 제약 조건
  - 각 속성의 값은 반드시 도메인에 지정된 값만을 가져야 함
  - 속성의 기본 값, 데이터 형식, 널 값의 허용 여부, 체크등을 지정
    
- 객체 무결성 제약조건
  - 기본 키를 구성하는 어떤 속성도 널 값을 가질 수 없으며, 오직 하나의 값만 존재해야 한다는 조건

- 참조 무결성 제약조건
  - 자식 릴레이션의 외래 키의 값은 참조된 부모 릴레이션의 기본 키 값과 같아야 하며 자식 릴레이션의 값이 변경될 때 부모 릴레이션의 제약을 받음(부모 릴레이션의 키 값에 없는 키를 사용 불가능)
    
## Realational Algebra(관계 대수)
- 릴레이션에서 원하는 결과를 얻기 위해 수학의 대수와 같은 연산을 이용하여 질의하는 방법을 기술하는 언어
- 관계형 데이터 베이스에 데이터를 삽입하고, 저장된 데이터를 검색, 수정, 삭제하는 등의 기능을 수행하는 언어
-  사용자가 원하는 데이터가 무엇(what)인지와 검색 방법(how)까지 기술하므로 절차적 언어
- 관계형 데이터 모델은 릴레이션(Relation)을 처리하기 위한 연산(operation)의 집합인 Relational Algebra 를 포함한다. 릴레이션에 Relational Algebra 연산을 적용한 결과도 릴레이션이다.
- Relatuinal Algebra는 크게 집합 연산과 관계 연산의 두 종류로 나누어 볼 수 있다.
  - Set operations :  수학적 집합 이론으로부터 나온 집합 연산으로서 릴레이션을 행의 집합으로 보고 적용한다. 합집합(union), 교집합(intersection), 차집합(difference), 카티션 프로덕트(cartesian product)가 있다.
  - Relational operations : 릴레인션에 적용할 수 있도록 특별히 개발된 관계 연산이다. Select, project, join이 있다.
    
### Selection(선택 연산)
- 릴레이션에서 주어진 조건식(predicate)을 만족하는 행들을 선택하는 연산이다.
- Select 연산의 결과로 만들어지는 릴레이션은 원래 릴레이션을 수평적으로(행 별로) 나눈 후 그 중 일부를 선택하여 구성한 것이므로 릴레이션의 수평적 부분집합(Horizontal Subset)이라고 볼 수 있다.
- 행을 선택하는 조건은 WHERE 절로 나타내며 단순 비교식을 사용할 수도 있고 또 여러개의 단순 비교식을 불린(Boolean) 연산자 AND, OR, NOT 등을 사용해 결합시켜 복잡하게 만든 조건식을 사용할 수도 있다.
  
### Projection(추출 연산)
- 릴레이션에서 특정 속성(열)을 선택하는 연산이다.
- Project 연산의 결과로 만들어지는 릴레이션은 원래 릴레이션을 수직적으로(열별로) 나눈 후 그 중 일부를 선택하여 구성한 것이므로 릴레이션의 수직적 부분집합(Vertical Subset) 이라고 볼 수 있다.

### 합집합, 교집합, 차집합
- 합집합 : 두 개의 릴레이션을 합하여 하나의 릴레이션을 반환함. 이 때 두개의 릴레이션은 서로 같은 속성 순서와 도메인을 가져야 함.
- 교집합 : 합병 가능한 두 릴레이션을 대상으로 하며, 두 릴레이션이 공통으로 가지고 있는 투플을 반환함.
- 차집합 : 첫 번째 릴레이션에는 속하고 두 번째 릴레이션에는 속하지 않는 투플을 반환함.

### Cartesian Product
> A집합과 B집합의 조합의 모든 경우의 수를 다 보여준다. (위험!!)
- 두 릴레이션의 Cartesian Product는 한 릴레이션에 속한 모든 각 행들을 다른 릴레이션의 모든 행과 연결시킨 결과 행으로 구성된 릴레이션을 만들어 낸다. 따라서 Cartesian Product에 참여한 두 릴레이션의 행 수가 각각 m, n 개라면 Cratesian Product의 결과로 나온 릴레이션의 행 수 는 m*n 개가 된다.
- 일반적으로 **Cartesian Product 연산만으로 얻어진 결과 자체는 어떤 중요한 의미를 가지는 데이터라고 보기 힘들**지만 Cartesain Product는 종종 **다른 연산을 위한 중간 과정으로 사용**되는 경우가 잇으므로 주목할 필요가 있다.
  
### Join
- 두 개의 릴레이션에서 **특정 열 값 간의 비교 조건을 만족하는 행들을 연결**하여 결과 릴레이션을 만들어내는 연산.
- 이 연산은 두 개의 릴레이션을 연결하는 **Cartesian Product와 조건을 만족하는 행을 선택하는 Select 연산의 결합**이라고 볼 수 있다.
- Join 연산의 조건식에서는 여러가지 비교 연산자를 사용할 수 있는데 그 중에서 **동등비교 연산자(=)를 사용하는 경우를 equijoin** 이라고 한다. 일반적으로 equijoin은 양 쪽 릴레이션에 모두 존재하는 같은 의미를 가지는 열 간의 동등비교 연산을 통해 이루어지는 경우 따라서 보기에서 DEPARTMENT_ID 열 과 같이 equijoin의 결과 릴레이션에는 같은 의미와 이름을 가지는 열이 중복되어 나타날 수 있다. 이러한 중복 열을 제거한 join을 natural join이라고 한다. 일반적으로 join이라는 용어는 natural join의 의미로 사용되는 경우가 많다. ![](https://i.imgur.com/BgD2viJ.png)


# 데이터 모델링
## 모델을 사용하는 이유
- 모델은 실세계의 일부분을 검사하거나 관리하는 데 유용
- 복잡한 실세계를 단순화하여 실세계에 존재하는 개체들을 식별하여 이들 객체와 객체 사이의 관계를 정의함으로써 컴퓨터상의 데이터 베이스를 추상화된 개념으로 이해하기 쉽게 할 뿐만 아니라 사용자들 사이의 의사소통을 원할이 할 수 있도록 도와주는 도구
- 모델 사용이 실세계를 직접 사용하거나 시험하는 것보다 비용이 효과적

### Data Model
- 모델은 설계의 기반
- 모델을 개발하여 아이디어를 점검하고 데이터베이스 설계에 대한 이해를 높임
- 현실 세계를 데이터베이스로 표현하는 중간과정
- 데이터베이스 설계과정에서 컴퓨터에 저장할 데이터의 구조를 논리적으로 표현하기 위해 사용한는 도구
  
### 데이터베이스는 현실에 대한 모델
- 데이터베이스는 현실세계의 구조에 대한 하나의 모델
- 데이터베이스의 사용은 현실세계에서 일어나는 프로스세를 반영함
- 데이터베이스 시스템은 데이터베이스의 정의와 사용을 지원하는 소프트웨어 시스템
- DDL : Data Definition(정의) Language
- DML : Data Manipulation(조작) Language

### Data Modeling
- 모델은 현실세계의 구조에 대한 인식을 표현
- 데이터 모델링 과정은 이 인식에 대한 오류를 수정하는 과정
- 데이터 모델링 과정에서 관점을 선정하고, 추상화 하는 일을 함

### 데이터 모델링 과정
![](https://i.imgur.com/ZBhWWWC.png)

#### 개념적 모델링(Conceptual Data Model)
- 데이터베이스 설계 과정에서 우리는 현실 세계에 존재하는 무수히 많은 개체(entity)들 중 데이터베이스에 저장할 대상들을 추출하여 이를 추상화 시킨 개념으로 ㅍ현하는 과정, 이 과정을 개념적 모델링(Conceptual Modeling) 이라고 한다.
- 요구사항을 수집하고 분석한 결과를 토대로 업무의 핵심적인 개념을 구분하고 전체적인 뼈재를 만드는 과정이다.
- 가장 대표적인 개념적 데이터 모델은 개체-관계 모델(Entity-Relationship Model) 이다

#### 논리적 모델링(Logical Data Model)
- 개념적 데이터 모델은 컴퓨터(DBMS)가 직접 이해할 수 없기 때문에 다시 컴퓨터가 이해하고 처리할 수 있는 구조로 변환시켜야 하는데 이 변환 과정을 논리적 데이터 모델링(Logical Data Modeling)이라고 한다. 일반적으로 개념적 데이터 모델은 DMBS나 데이터베이스 구현 방식과 독립적이지만 논리적 데이터 모델은 DBMS의 종류 및 데이터베이스 구조와 밀접한 관련을 가지게 된다.
- 개념적 모델링에서 만든 ER 다이어그램을 사용하고자 하는 DBMS에 맞게 매핑하여 실제 데이터베이스로 구현하기 위한 모델을 만드는 과정이다.

## Entity-Relationship Model
#### Entity-Relationship model
- 세상의 사물을 개체(entity)와 객체 간의 관계(relationship)로 표현함
- 객체-관계 모델은 개념적 데이터 모델링 단계에서 사용되는 대표적인 데이터 모델이다.
- E-R model은 E-R diagram(ERD)으로 표현될 수 있으며 이는 업무 요구사항에 따른 데이터와 데이터 간의 관계 구조를 표현하는 수단으로 사용된다.
- 조직에 명확한 양식으로 문서화된 정보를 제공한다.
- 정보 요구사항의 범위에 대한 명확한 정보를 제공한다.
- 데이터베이스 설계를 위해 이해하기 쉬운 도면을 제공한다.
- 여러 가지 응용 프로그램을 통합하기 효과적인 구조(framework)를 제공한다.

#### ERD 표기방법
- 피터 첸 표기법
- IE 표기법
- 바커 표기법 : 오라클이 사용하는 표기법
  ![](https://i.imgur.com/KVw18WY.png)
라운드 사각형: Entity
table이름: 대문자
#: primary key
\*: nonnull
o: optional
실선: 반드시 관계를 가져야 한다.(must)
점선: 관계가 있을 수 있다.(maybe)

![](https://i.imgur.com/qm4EFBE.png)

![](https://i.imgur.com/ybkXt2C.png)

- Relationship은 양방향으로 나타나며 각 방향 별로 다음의 구성요소를 가진다.
  - Label: 예를 들어 'assinged to', 'composed of'
  - Optinality :  'must be' 또는 'bay be'
  - Degree (Cardinality) : 'one and only one' 또는 'one or more'

### ERD 읽는 방법
>Each souce eintity { may be | must be } relationship name { one and only one | one or more } destination entity.

![](https://i.imgur.com/1uSFnXN.png)

- Each EMPLOYEE must be assigned to one and only one DEPARTMENT
- Each DEPARTMENT may be composed of one or more EMPLOYEEs
### E-R Model 구성요소
#### Entity(개체)
- Entity란 업무의 대상으로서 알 필요가 있으며 보관할 필요가 있는 중요한 정보를 의미한다. 보통 명사형으로 나타나고 사물의 범주나 유형이 될 수 있다.
- 사람, 사물, 장소,개념 사건과 같이 유/무형의 정보를 가지고 있는 독립적인 실체.
- Entity는 여러개의 occurrence를 가질 수 있다.
- 예를 들어 부서, 직원, 주문 등은 entity가 될 수 있으며, 부서 entity는 '영업부', '마케팅부', '관리부', '교육부' 등의 occurrence로 나타낼 수 있다.

#### 특징
- 유일한 시별자에 의해 식별이 가능
- 꾸준한 관리를 필요로 하는 정보
- 업무 프로세스에 이용됨
- 반드시 자신의 특징을 나타내는 속성을 포함
- 다른 개체와 최소 한 개 이상의 관계를 맺고 있음.

#### Attribute(속성)
- Attribute는 entity를 기술하는 구체적인 정보로서 entity를 식별하거나 계량화시키거나 상태를 나타낼 수 있는 모든 항목을 말한다.
- 예를 들어 직원 entity의 attribute는 사번, 이름, 직급, 입사일, 월급 등이 될 수 있다. 각각의 attribute는 꼭 필요한 항목일 수도 있고 그렇지 않은 항목일 수동 있다. 이 특성을 optionality라고 한다.

#### Relationship(관계)
- Relationship은 entity 간의 관계를 나타내는 것으로 업무에서 요구되는 정보들을 연결하는 업무규칙을 의미한다.

#### Unique Identifiers(UID)
- Unique identifier는 entity의 각 occurrence를 식별하기 위해 사용되는 attribute나 relationship의 조합을 말한다. Entity의 모든 occurrence는 ㅇ일하게 식별이 가능해야한다.

### M:M
![](https://i.imgur.com/wTI07sB.png)

- Each COURSE may be taken by one or more STUDENTs
- Each STUDENT may be enrolled in one or more COURSEs

#### Resolvin Many-to-Many Relationships
- M:M relationship의 문제를 해결하기 위해서 두 개의 entity 사이에 또 하나의 entity를 추가하여 하나의 M:M relationship을 두 개의 M : 1 relationship 으로 전환될 수 있다.

![](https://i.imgur.com/QA4oYRS.png)

- Intersection Entity
  - M : M relationship을 M : 1 relationship으로 전화하는 과정에서 새로이 추가되는 entity를 Intersection Entity 라고 부른다. Intersection entity의 UID는 종종 이 entity와 relationship을 맺고 있는 원래의 entity들의 UID들로 구성된다. 이런 경우 ERD에는 relationship 을 나타내는 선에 UID bar를 사용하여 표현한다.